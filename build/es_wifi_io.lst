ARM GAS  /tmp/ccTII1DT.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"es_wifi_io.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.SPI_WIFI_MspInit,"ax",%progbits
  18              		.align	1
  19              		.global	SPI_WIFI_MspInit
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	SPI_WIFI_MspInit:
  26              	.LFB128:
  27              		.file 1 "libs/WIFI/Src/es_wifi_io.c"
   1:libs/WIFI/Src/es_wifi_io.c **** /**
   2:libs/WIFI/Src/es_wifi_io.c ****   ******************************************************************************
   3:libs/WIFI/Src/es_wifi_io.c ****   * @file    es_wifi_io.c
   4:libs/WIFI/Src/es_wifi_io.c ****   * @author  MCD Application Team
   5:libs/WIFI/Src/es_wifi_io.c ****   * @version V1.8.0
   6:libs/WIFI/Src/es_wifi_io.c ****   * @date    21-April-2017
   7:libs/WIFI/Src/es_wifi_io.c ****   * @brief   This file implments the IO operations to deal with the es-wifi
   8:libs/WIFI/Src/es_wifi_io.c ****   *          module. It mainly Inits and Deinits the SPI interface. Send and
   9:libs/WIFI/Src/es_wifi_io.c ****   *          receive data over it.
  10:libs/WIFI/Src/es_wifi_io.c ****   ******************************************************************************
  11:libs/WIFI/Src/es_wifi_io.c ****   * @attention
  12:libs/WIFI/Src/es_wifi_io.c ****   *
  13:libs/WIFI/Src/es_wifi_io.c ****   * <h2><center>&copy; Copyright (c) 2017 STMicroelectronics International N.V. 
  14:libs/WIFI/Src/es_wifi_io.c ****   * All rights reserved.</center></h2>
  15:libs/WIFI/Src/es_wifi_io.c ****   *
  16:libs/WIFI/Src/es_wifi_io.c ****   * Redistribution and use in source and binary forms, with or without 
  17:libs/WIFI/Src/es_wifi_io.c ****   * modification, are permitted, provided that the following conditions are met:
  18:libs/WIFI/Src/es_wifi_io.c ****   *
  19:libs/WIFI/Src/es_wifi_io.c ****   * 1. Redistribution of source code must retain the above copyright notice, 
  20:libs/WIFI/Src/es_wifi_io.c ****   *    this list of conditions and the following disclaimer.
  21:libs/WIFI/Src/es_wifi_io.c ****   * 2. Redistributions in binary form must reproduce the above copyright notice,
  22:libs/WIFI/Src/es_wifi_io.c ****   *    this list of conditions and the following disclaimer in the documentation
  23:libs/WIFI/Src/es_wifi_io.c ****   *    and/or other materials provided with the distribution.
  24:libs/WIFI/Src/es_wifi_io.c ****   * 3. Neither the name of STMicroelectronics nor the names of other 
  25:libs/WIFI/Src/es_wifi_io.c ****   *    contributors to this software may be used to endorse or promote products 
  26:libs/WIFI/Src/es_wifi_io.c ****   *    derived from this software without specific written permission.
  27:libs/WIFI/Src/es_wifi_io.c ****   * 4. This software, including modifications and/or derivative works of this 
  28:libs/WIFI/Src/es_wifi_io.c ****   *    software, must execute solely and exclusively on microcontroller or
  29:libs/WIFI/Src/es_wifi_io.c ****   *    microprocessor devices manufactured by or for STMicroelectronics.
  30:libs/WIFI/Src/es_wifi_io.c ****   * 5. Redistribution and use of this software other than as permitted under 
  31:libs/WIFI/Src/es_wifi_io.c ****   *    this license is void and will automatically terminate your rights under 
ARM GAS  /tmp/ccTII1DT.s 			page 2


  32:libs/WIFI/Src/es_wifi_io.c ****   *    this license. 
  33:libs/WIFI/Src/es_wifi_io.c ****   *
  34:libs/WIFI/Src/es_wifi_io.c ****   * THIS SOFTWARE IS PROVIDED BY STMICROELECTRONICS AND CONTRIBUTORS "AS IS" 
  35:libs/WIFI/Src/es_wifi_io.c ****   * AND ANY EXPRESS, IMPLIED OR STATUTORY WARRANTIES, INCLUDING, BUT NOT 
  36:libs/WIFI/Src/es_wifi_io.c ****   * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A 
  37:libs/WIFI/Src/es_wifi_io.c ****   * PARTICULAR PURPOSE AND NON-INFRINGEMENT OF THIRD PARTY INTELLECTUAL PROPERTY
  38:libs/WIFI/Src/es_wifi_io.c ****   * RIGHTS ARE DISCLAIMED TO THE FULLEST EXTENT PERMITTED BY LAW. IN NO EVENT 
  39:libs/WIFI/Src/es_wifi_io.c ****   * SHALL STMICROELECTRONICS OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
  40:libs/WIFI/Src/es_wifi_io.c ****   * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
  41:libs/WIFI/Src/es_wifi_io.c ****   * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, 
  42:libs/WIFI/Src/es_wifi_io.c ****   * OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF 
  43:libs/WIFI/Src/es_wifi_io.c ****   * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING 
  44:libs/WIFI/Src/es_wifi_io.c ****   * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
  45:libs/WIFI/Src/es_wifi_io.c ****   * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  46:libs/WIFI/Src/es_wifi_io.c ****   *
  47:libs/WIFI/Src/es_wifi_io.c ****   ******************************************************************************
  48:libs/WIFI/Src/es_wifi_io.c ****   */
  49:libs/WIFI/Src/es_wifi_io.c **** 
  50:libs/WIFI/Src/es_wifi_io.c **** /* Includes ------------------------------------------------------------------*/
  51:libs/WIFI/Src/es_wifi_io.c **** #include "es_wifi_io.h"
  52:libs/WIFI/Src/es_wifi_io.c **** #include <string.h>
  53:libs/WIFI/Src/es_wifi_io.c **** 
  54:libs/WIFI/Src/es_wifi_io.c **** /* Private define ------------------------------------------------------------*/
  55:libs/WIFI/Src/es_wifi_io.c **** #define MIN(a, b)  ((a) < (b) ? (a) : (b))
  56:libs/WIFI/Src/es_wifi_io.c **** /* Private typedef -----------------------------------------------------------*/
  57:libs/WIFI/Src/es_wifi_io.c **** /* Private macro -------------------------------------------------------------*/
  58:libs/WIFI/Src/es_wifi_io.c **** /* Private variables ---------------------------------------------------------*/
  59:libs/WIFI/Src/es_wifi_io.c **** SPI_HandleTypeDef hspi;
  60:libs/WIFI/Src/es_wifi_io.c **** 
  61:libs/WIFI/Src/es_wifi_io.c **** /* Private function prototypes -----------------------------------------------*/
  62:libs/WIFI/Src/es_wifi_io.c **** 
  63:libs/WIFI/Src/es_wifi_io.c **** /* Private functions ---------------------------------------------------------*/
  64:libs/WIFI/Src/es_wifi_io.c **** /*******************************************************************************
  65:libs/WIFI/Src/es_wifi_io.c ****                        COM Driver Interface (SPI)
  66:libs/WIFI/Src/es_wifi_io.c **** *******************************************************************************/
  67:libs/WIFI/Src/es_wifi_io.c **** /**
  68:libs/WIFI/Src/es_wifi_io.c ****   * @brief  Initialize SPI MSP
  69:libs/WIFI/Src/es_wifi_io.c ****   * @param  hspi: SPI handle
  70:libs/WIFI/Src/es_wifi_io.c ****   * @retval None
  71:libs/WIFI/Src/es_wifi_io.c ****   */
  72:libs/WIFI/Src/es_wifi_io.c **** void SPI_WIFI_MspInit(SPI_HandleTypeDef* hspi)
  73:libs/WIFI/Src/es_wifi_io.c **** {
  28              		.loc 1 73 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 40
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              	.LVL0:
  33 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 24
  36              		.cfi_offset 4, -24
  37              		.cfi_offset 5, -20
  38              		.cfi_offset 6, -16
  39              		.cfi_offset 7, -12
  40              		.cfi_offset 8, -8
  41              		.cfi_offset 14, -4
  42 0004 8AB0     		sub	sp, sp, #40
ARM GAS  /tmp/ccTII1DT.s 			page 3


  43              	.LCFI1:
  44              		.cfi_def_cfa_offset 64
  45              	.LBB2:
  74:libs/WIFI/Src/es_wifi_io.c ****   
  75:libs/WIFI/Src/es_wifi_io.c ****   GPIO_InitTypeDef GPIO_Init;
  76:libs/WIFI/Src/es_wifi_io.c ****   
  77:libs/WIFI/Src/es_wifi_io.c ****   __HAL_RCC_SPI3_CLK_ENABLE();
  46              		.loc 1 77 0
  47 0006 434B     		ldr	r3, .L3
  48 0008 9A6D     		ldr	r2, [r3, #88]
  49 000a 42F40042 		orr	r2, r2, #32768
  50 000e 9A65     		str	r2, [r3, #88]
  51 0010 9A6D     		ldr	r2, [r3, #88]
  52 0012 02F40042 		and	r2, r2, #32768
  53 0016 0192     		str	r2, [sp, #4]
  54 0018 019A     		ldr	r2, [sp, #4]
  55              	.LBE2:
  56              	.LBB3:
  78:libs/WIFI/Src/es_wifi_io.c ****   __HAL_RCC_GPIOB_CLK_ENABLE();
  57              		.loc 1 78 0
  58 001a DA6C     		ldr	r2, [r3, #76]
  59 001c 42F00202 		orr	r2, r2, #2
  60 0020 DA64     		str	r2, [r3, #76]
  61 0022 DA6C     		ldr	r2, [r3, #76]
  62 0024 02F00202 		and	r2, r2, #2
  63 0028 0292     		str	r2, [sp, #8]
  64 002a 029A     		ldr	r2, [sp, #8]
  65              	.LBE3:
  66              	.LBB4:
  79:libs/WIFI/Src/es_wifi_io.c ****   __HAL_RCC_GPIOC_CLK_ENABLE();
  67              		.loc 1 79 0
  68 002c DA6C     		ldr	r2, [r3, #76]
  69 002e 42F00402 		orr	r2, r2, #4
  70 0032 DA64     		str	r2, [r3, #76]
  71 0034 DA6C     		ldr	r2, [r3, #76]
  72 0036 02F00402 		and	r2, r2, #4
  73 003a 0392     		str	r2, [sp, #12]
  74 003c 039A     		ldr	r2, [sp, #12]
  75              	.LBE4:
  76              	.LBB5:
  80:libs/WIFI/Src/es_wifi_io.c ****   __HAL_RCC_GPIOE_CLK_ENABLE();
  77              		.loc 1 80 0
  78 003e DA6C     		ldr	r2, [r3, #76]
  79 0040 42F01002 		orr	r2, r2, #16
  80 0044 DA64     		str	r2, [r3, #76]
  81 0046 DB6C     		ldr	r3, [r3, #76]
  82 0048 03F01003 		and	r3, r3, #16
  83 004c 0493     		str	r3, [sp, #16]
  84 004e 049B     		ldr	r3, [sp, #16]
  85              	.LBE5:
  81:libs/WIFI/Src/es_wifi_io.c ****   
  82:libs/WIFI/Src/es_wifi_io.c ****   /* configure Wake up pin */
  83:libs/WIFI/Src/es_wifi_io.c ****   HAL_GPIO_WritePin(GPIOB, GPIO_PIN_13, GPIO_PIN_RESET ); 
  86              		.loc 1 83 0
  87 0050 314E     		ldr	r6, .L3+4
  88 0052 0022     		movs	r2, #0
  89 0054 4FF40051 		mov	r1, #8192
ARM GAS  /tmp/ccTII1DT.s 			page 4


  90 0058 3046     		mov	r0, r6
  91              	.LVL1:
  92 005a FFF7FEFF 		bl	HAL_GPIO_WritePin
  93              	.LVL2:
  84:libs/WIFI/Src/es_wifi_io.c ****   GPIO_Init.Pin       = GPIO_PIN_13;
  94              		.loc 1 84 0
  95 005e 4FF40053 		mov	r3, #8192
  96 0062 0593     		str	r3, [sp, #20]
  85:libs/WIFI/Src/es_wifi_io.c ****   GPIO_Init.Mode      = GPIO_MODE_OUTPUT_PP;
  97              		.loc 1 85 0
  98 0064 0124     		movs	r4, #1
  99 0066 0694     		str	r4, [sp, #24]
  86:libs/WIFI/Src/es_wifi_io.c ****   GPIO_Init.Pull      = GPIO_NOPULL;
 100              		.loc 1 86 0
 101 0068 0025     		movs	r5, #0
 102 006a 0795     		str	r5, [sp, #28]
  87:libs/WIFI/Src/es_wifi_io.c ****   GPIO_Init.Speed     = GPIO_SPEED_FREQ_LOW;
 103              		.loc 1 87 0
 104 006c 0895     		str	r5, [sp, #32]
  88:libs/WIFI/Src/es_wifi_io.c ****   HAL_GPIO_Init(GPIOB, &GPIO_Init );
 105              		.loc 1 88 0
 106 006e 05A9     		add	r1, sp, #20
 107 0070 3046     		mov	r0, r6
 108 0072 FFF7FEFF 		bl	HAL_GPIO_Init
 109              	.LVL3:
  89:libs/WIFI/Src/es_wifi_io.c **** 
  90:libs/WIFI/Src/es_wifi_io.c ****   /* configure Data ready pin */
  91:libs/WIFI/Src/es_wifi_io.c ****   GPIO_Init.Pin       = GPIO_PIN_1;
 110              		.loc 1 91 0
 111 0076 0226     		movs	r6, #2
 112 0078 0596     		str	r6, [sp, #20]
  92:libs/WIFI/Src/es_wifi_io.c ****   GPIO_Init.Mode      = GPIO_MODE_IT_RISING;
 113              		.loc 1 92 0
 114 007a 284B     		ldr	r3, .L3+8
 115 007c 0693     		str	r3, [sp, #24]
  93:libs/WIFI/Src/es_wifi_io.c ****   GPIO_Init.Pull      = GPIO_NOPULL;
 116              		.loc 1 93 0
 117 007e 0795     		str	r5, [sp, #28]
  94:libs/WIFI/Src/es_wifi_io.c ****   GPIO_Init.Speed     = GPIO_SPEED_FREQ_LOW;
 118              		.loc 1 94 0
 119 0080 0895     		str	r5, [sp, #32]
  95:libs/WIFI/Src/es_wifi_io.c ****   HAL_GPIO_Init(GPIOE, &GPIO_Init );
 120              		.loc 1 95 0
 121 0082 274F     		ldr	r7, .L3+12
 122 0084 05A9     		add	r1, sp, #20
 123 0086 3846     		mov	r0, r7
 124 0088 FFF7FEFF 		bl	HAL_GPIO_Init
 125              	.LVL4:
  96:libs/WIFI/Src/es_wifi_io.c **** 
  97:libs/WIFI/Src/es_wifi_io.c ****   /* configure Reset pin */
  98:libs/WIFI/Src/es_wifi_io.c ****   GPIO_Init.Pin       = GPIO_PIN_8;
 126              		.loc 1 98 0
 127 008c 4FF48073 		mov	r3, #256
 128 0090 0593     		str	r3, [sp, #20]
  99:libs/WIFI/Src/es_wifi_io.c ****   GPIO_Init.Mode      = GPIO_MODE_OUTPUT_PP;
 129              		.loc 1 99 0
 130 0092 0694     		str	r4, [sp, #24]
ARM GAS  /tmp/ccTII1DT.s 			page 5


 100:libs/WIFI/Src/es_wifi_io.c ****   GPIO_Init.Pull      = GPIO_NOPULL;
 131              		.loc 1 100 0
 132 0094 0795     		str	r5, [sp, #28]
 101:libs/WIFI/Src/es_wifi_io.c ****   GPIO_Init.Speed     = GPIO_SPEED_FREQ_LOW;
 133              		.loc 1 101 0
 134 0096 0895     		str	r5, [sp, #32]
 102:libs/WIFI/Src/es_wifi_io.c ****   GPIO_Init.Alternate = 0;
 135              		.loc 1 102 0
 136 0098 0995     		str	r5, [sp, #36]
 103:libs/WIFI/Src/es_wifi_io.c ****   HAL_GPIO_Init(GPIOE, &GPIO_Init );
 137              		.loc 1 103 0
 138 009a 05A9     		add	r1, sp, #20
 139 009c 3846     		mov	r0, r7
 140 009e FFF7FEFF 		bl	HAL_GPIO_Init
 141              	.LVL5:
 104:libs/WIFI/Src/es_wifi_io.c ****   
 105:libs/WIFI/Src/es_wifi_io.c ****   /* configure SPI NSS pin pin */
 106:libs/WIFI/Src/es_wifi_io.c ****   HAL_GPIO_WritePin( GPIOE, GPIO_PIN_0, GPIO_PIN_SET ); 
 142              		.loc 1 106 0
 143 00a2 2246     		mov	r2, r4
 144 00a4 2146     		mov	r1, r4
 145 00a6 3846     		mov	r0, r7
 146 00a8 FFF7FEFF 		bl	HAL_GPIO_WritePin
 147              	.LVL6:
 107:libs/WIFI/Src/es_wifi_io.c ****   GPIO_Init.Pin       = GPIO_PIN_0;
 148              		.loc 1 107 0
 149 00ac 0594     		str	r4, [sp, #20]
 108:libs/WIFI/Src/es_wifi_io.c ****   GPIO_Init.Mode      = GPIO_MODE_OUTPUT_PP;
 150              		.loc 1 108 0
 151 00ae 0694     		str	r4, [sp, #24]
 109:libs/WIFI/Src/es_wifi_io.c ****   GPIO_Init.Pull      = GPIO_NOPULL;
 152              		.loc 1 109 0
 153 00b0 0795     		str	r5, [sp, #28]
 110:libs/WIFI/Src/es_wifi_io.c ****   GPIO_Init.Speed     = GPIO_SPEED_FREQ_MEDIUM;
 154              		.loc 1 110 0
 155 00b2 0894     		str	r4, [sp, #32]
 111:libs/WIFI/Src/es_wifi_io.c ****   HAL_GPIO_Init( GPIOE, &GPIO_Init );
 156              		.loc 1 111 0
 157 00b4 05A9     		add	r1, sp, #20
 158 00b6 3846     		mov	r0, r7
 159 00b8 FFF7FEFF 		bl	HAL_GPIO_Init
 160              	.LVL7:
 112:libs/WIFI/Src/es_wifi_io.c ****   
 113:libs/WIFI/Src/es_wifi_io.c ****   /* configure SPI CLK pin */
 114:libs/WIFI/Src/es_wifi_io.c ****   GPIO_Init.Pin       = GPIO_PIN_10;
 161              		.loc 1 114 0
 162 00bc 4FF48063 		mov	r3, #1024
 163 00c0 0593     		str	r3, [sp, #20]
 115:libs/WIFI/Src/es_wifi_io.c ****   GPIO_Init.Mode      = GPIO_MODE_AF_PP;
 164              		.loc 1 115 0
 165 00c2 0696     		str	r6, [sp, #24]
 116:libs/WIFI/Src/es_wifi_io.c ****   GPIO_Init.Pull      = GPIO_NOPULL;
 166              		.loc 1 116 0
 167 00c4 0795     		str	r5, [sp, #28]
 117:libs/WIFI/Src/es_wifi_io.c ****   GPIO_Init.Speed     = GPIO_SPEED_FREQ_MEDIUM;
 168              		.loc 1 117 0
 169 00c6 0894     		str	r4, [sp, #32]
ARM GAS  /tmp/ccTII1DT.s 			page 6


 118:libs/WIFI/Src/es_wifi_io.c ****   GPIO_Init.Alternate = GPIO_AF6_SPI3;
 170              		.loc 1 118 0
 171 00c8 4FF00608 		mov	r8, #6
 172 00cc CDF82480 		str	r8, [sp, #36]
 119:libs/WIFI/Src/es_wifi_io.c ****   HAL_GPIO_Init( GPIOC, &GPIO_Init );
 173              		.loc 1 119 0
 174 00d0 A7F50067 		sub	r7, r7, #2048
 175 00d4 05A9     		add	r1, sp, #20
 176 00d6 3846     		mov	r0, r7
 177 00d8 FFF7FEFF 		bl	HAL_GPIO_Init
 178              	.LVL8:
 120:libs/WIFI/Src/es_wifi_io.c ****   
 121:libs/WIFI/Src/es_wifi_io.c ****   /* configure SPI MOSI pin */
 122:libs/WIFI/Src/es_wifi_io.c ****   GPIO_Init.Pin       = GPIO_PIN_12;
 179              		.loc 1 122 0
 180 00dc 4FF48053 		mov	r3, #4096
 181 00e0 0593     		str	r3, [sp, #20]
 123:libs/WIFI/Src/es_wifi_io.c ****   GPIO_Init.Mode      = GPIO_MODE_AF_PP;
 182              		.loc 1 123 0
 183 00e2 0696     		str	r6, [sp, #24]
 124:libs/WIFI/Src/es_wifi_io.c ****   GPIO_Init.Pull      = GPIO_NOPULL;
 184              		.loc 1 124 0
 185 00e4 0795     		str	r5, [sp, #28]
 125:libs/WIFI/Src/es_wifi_io.c ****   GPIO_Init.Speed     = GPIO_SPEED_FREQ_MEDIUM;
 186              		.loc 1 125 0
 187 00e6 0894     		str	r4, [sp, #32]
 126:libs/WIFI/Src/es_wifi_io.c ****   GPIO_Init.Alternate = GPIO_AF6_SPI3;
 188              		.loc 1 126 0
 189 00e8 CDF82480 		str	r8, [sp, #36]
 127:libs/WIFI/Src/es_wifi_io.c ****   HAL_GPIO_Init( GPIOC, &GPIO_Init );
 190              		.loc 1 127 0
 191 00ec 05A9     		add	r1, sp, #20
 192 00ee 3846     		mov	r0, r7
 193 00f0 FFF7FEFF 		bl	HAL_GPIO_Init
 194              	.LVL9:
 128:libs/WIFI/Src/es_wifi_io.c ****   
 129:libs/WIFI/Src/es_wifi_io.c ****   /* configure SPI MISO pin */
 130:libs/WIFI/Src/es_wifi_io.c ****   GPIO_Init.Pin       = GPIO_PIN_11;
 195              		.loc 1 130 0
 196 00f4 4FF40063 		mov	r3, #2048
 197 00f8 0593     		str	r3, [sp, #20]
 131:libs/WIFI/Src/es_wifi_io.c ****   GPIO_Init.Mode      = GPIO_MODE_AF_PP;
 198              		.loc 1 131 0
 199 00fa 0696     		str	r6, [sp, #24]
 132:libs/WIFI/Src/es_wifi_io.c ****   GPIO_Init.Pull      = GPIO_PULLUP;
 200              		.loc 1 132 0
 201 00fc 0794     		str	r4, [sp, #28]
 133:libs/WIFI/Src/es_wifi_io.c ****   GPIO_Init.Speed     = GPIO_SPEED_FREQ_MEDIUM;
 202              		.loc 1 133 0
 203 00fe 0894     		str	r4, [sp, #32]
 134:libs/WIFI/Src/es_wifi_io.c ****   GPIO_Init.Alternate = GPIO_AF6_SPI3;
 204              		.loc 1 134 0
 205 0100 CDF82480 		str	r8, [sp, #36]
 135:libs/WIFI/Src/es_wifi_io.c ****   HAL_GPIO_Init( GPIOC, &GPIO_Init );
 206              		.loc 1 135 0
 207 0104 05A9     		add	r1, sp, #20
 208 0106 3846     		mov	r0, r7
ARM GAS  /tmp/ccTII1DT.s 			page 7


 209 0108 FFF7FEFF 		bl	HAL_GPIO_Init
 210              	.LVL10:
 136:libs/WIFI/Src/es_wifi_io.c **** }
 211              		.loc 1 136 0
 212 010c 0AB0     		add	sp, sp, #40
 213              	.LCFI2:
 214              		.cfi_def_cfa_offset 24
 215              		@ sp needed
 216 010e BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 217              	.L4:
 218 0112 00BF     		.align	2
 219              	.L3:
 220 0114 00100240 		.word	1073876992
 221 0118 00040048 		.word	1207960576
 222 011c 00001110 		.word	269549568
 223 0120 00100048 		.word	1207963648
 224              		.cfi_endproc
 225              	.LFE128:
 227              		.section	.text.SPI_WIFI_Init,"ax",%progbits
 228              		.align	1
 229              		.global	SPI_WIFI_Init
 230              		.syntax unified
 231              		.thumb
 232              		.thumb_func
 233              		.fpu fpv4-sp-d16
 235              	SPI_WIFI_Init:
 236              	.LFB129:
 137:libs/WIFI/Src/es_wifi_io.c **** 
 138:libs/WIFI/Src/es_wifi_io.c **** /**
 139:libs/WIFI/Src/es_wifi_io.c ****   * @brief  Initialize the SPI3
 140:libs/WIFI/Src/es_wifi_io.c ****   * @param  None
 141:libs/WIFI/Src/es_wifi_io.c ****   * @retval None
 142:libs/WIFI/Src/es_wifi_io.c ****   */
 143:libs/WIFI/Src/es_wifi_io.c **** int8_t SPI_WIFI_Init(void)
 144:libs/WIFI/Src/es_wifi_io.c **** {
 237              		.loc 1 144 0
 238              		.cfi_startproc
 239              		@ args = 0, pretend = 0, frame = 8
 240              		@ frame_needed = 0, uses_anonymous_args = 0
 241 0000 70B5     		push	{r4, r5, r6, lr}
 242              	.LCFI3:
 243              		.cfi_def_cfa_offset 16
 244              		.cfi_offset 4, -16
 245              		.cfi_offset 5, -12
 246              		.cfi_offset 6, -8
 247              		.cfi_offset 14, -4
 248 0002 82B0     		sub	sp, sp, #8
 249              	.LCFI4:
 250              		.cfi_def_cfa_offset 24
 145:libs/WIFI/Src/es_wifi_io.c ****   uint32_t tickstart = HAL_GetTick();
 251              		.loc 1 145 0
 252 0004 FFF7FEFF 		bl	HAL_GetTick
 253              	.LVL11:
 254 0008 0646     		mov	r6, r0
 255              	.LVL12:
 146:libs/WIFI/Src/es_wifi_io.c ****   uint8_t Prompt[6];
 147:libs/WIFI/Src/es_wifi_io.c ****   uint8_t count = 0;
ARM GAS  /tmp/ccTII1DT.s 			page 8


 148:libs/WIFI/Src/es_wifi_io.c ****   HAL_StatusTypeDef  Status;
 149:libs/WIFI/Src/es_wifi_io.c ****   
 150:libs/WIFI/Src/es_wifi_io.c ****   hspi.Instance               = SPI3;
 256              		.loc 1 150 0
 257 000a 484C     		ldr	r4, .L15
 258 000c 484B     		ldr	r3, .L15+4
 259 000e 2360     		str	r3, [r4]
 151:libs/WIFI/Src/es_wifi_io.c ****   SPI_WIFI_MspInit(&hspi);
 260              		.loc 1 151 0
 261 0010 2046     		mov	r0, r4
 262              	.LVL13:
 263 0012 FFF7FEFF 		bl	SPI_WIFI_MspInit
 264              	.LVL14:
 152:libs/WIFI/Src/es_wifi_io.c ****   
 153:libs/WIFI/Src/es_wifi_io.c ****   hspi.Init.Mode              = SPI_MODE_MASTER;
 265              		.loc 1 153 0
 266 0016 4FF48273 		mov	r3, #260
 267 001a 6360     		str	r3, [r4, #4]
 154:libs/WIFI/Src/es_wifi_io.c ****   hspi.Init.Direction         = SPI_DIRECTION_2LINES;
 268              		.loc 1 154 0
 269 001c 0023     		movs	r3, #0
 270 001e A360     		str	r3, [r4, #8]
 155:libs/WIFI/Src/es_wifi_io.c ****   hspi.Init.DataSize          = SPI_DATASIZE_16BIT;
 271              		.loc 1 155 0
 272 0020 4FF47062 		mov	r2, #3840
 273 0024 E260     		str	r2, [r4, #12]
 156:libs/WIFI/Src/es_wifi_io.c ****   hspi.Init.CLKPolarity       = SPI_POLARITY_LOW;
 274              		.loc 1 156 0
 275 0026 2361     		str	r3, [r4, #16]
 157:libs/WIFI/Src/es_wifi_io.c ****   hspi.Init.CLKPhase          = SPI_PHASE_1EDGE;
 276              		.loc 1 157 0
 277 0028 6361     		str	r3, [r4, #20]
 158:libs/WIFI/Src/es_wifi_io.c ****   hspi.Init.NSS               = SPI_NSS_SOFT;
 278              		.loc 1 158 0
 279 002a 4FF40072 		mov	r2, #512
 280 002e A261     		str	r2, [r4, #24]
 159:libs/WIFI/Src/es_wifi_io.c ****   hspi.Init.BaudRatePrescaler = SPI_BAUDRATEPRESCALER_8;  /* 80/8= 10MHz (Inventek WIFI module supp
 281              		.loc 1 159 0
 282 0030 1022     		movs	r2, #16
 283 0032 E261     		str	r2, [r4, #28]
 160:libs/WIFI/Src/es_wifi_io.c ****   hspi.Init.FirstBit          = SPI_FIRSTBIT_MSB;
 284              		.loc 1 160 0
 285 0034 2362     		str	r3, [r4, #32]
 161:libs/WIFI/Src/es_wifi_io.c ****   hspi.Init.TIMode            = SPI_TIMODE_DISABLE;
 286              		.loc 1 161 0
 287 0036 6362     		str	r3, [r4, #36]
 162:libs/WIFI/Src/es_wifi_io.c ****   hspi.Init.CRCCalculation    = SPI_CRCCALCULATION_DISABLE;
 288              		.loc 1 162 0
 289 0038 A362     		str	r3, [r4, #40]
 163:libs/WIFI/Src/es_wifi_io.c ****   hspi.Init.CRCPolynomial     = 0;
 290              		.loc 1 163 0
 291 003a E362     		str	r3, [r4, #44]
 164:libs/WIFI/Src/es_wifi_io.c ****   
 165:libs/WIFI/Src/es_wifi_io.c ****   if(HAL_SPI_Init( &hspi ) != HAL_OK)
 292              		.loc 1 165 0
 293 003c 2046     		mov	r0, r4
 294 003e FFF7FEFF 		bl	HAL_SPI_Init
ARM GAS  /tmp/ccTII1DT.s 			page 9


 295              	.LVL15:
 296 0042 0028     		cmp	r0, #0
 297 0044 6ED1     		bne	.L12
 166:libs/WIFI/Src/es_wifi_io.c ****   {
 167:libs/WIFI/Src/es_wifi_io.c ****     return -1;
 168:libs/WIFI/Src/es_wifi_io.c ****   }
 169:libs/WIFI/Src/es_wifi_io.c ****   
 170:libs/WIFI/Src/es_wifi_io.c ****   WIFI_RESET_MODULE();
 298              		.loc 1 170 0
 299 0046 3B4C     		ldr	r4, .L15+8
 300 0048 0022     		movs	r2, #0
 301 004a 4FF48071 		mov	r1, #256
 302 004e 2046     		mov	r0, r4
 303 0050 FFF7FEFF 		bl	HAL_GPIO_WritePin
 304              	.LVL16:
 305 0054 0A20     		movs	r0, #10
 306 0056 FFF7FEFF 		bl	HAL_Delay
 307              	.LVL17:
 308 005a 0122     		movs	r2, #1
 309 005c 4FF48071 		mov	r1, #256
 310 0060 2046     		mov	r0, r4
 311 0062 FFF7FEFF 		bl	HAL_GPIO_WritePin
 312              	.LVL18:
 313 0066 4FF4FA70 		mov	r0, #500
 314 006a FFF7FEFF 		bl	HAL_Delay
 315              	.LVL19:
 171:libs/WIFI/Src/es_wifi_io.c ****   
 172:libs/WIFI/Src/es_wifi_io.c ****   WIFI_ENABLE_NSS(); 
 316              		.loc 1 172 0
 317 006e 0022     		movs	r2, #0
 318 0070 0121     		movs	r1, #1
 319 0072 2046     		mov	r0, r4
 320 0074 FFF7FEFF 		bl	HAL_GPIO_WritePin
 321              	.LVL20:
 322 0078 0A20     		movs	r0, #10
 323 007a FFF7FEFF 		bl	HAL_Delay
 324              	.LVL21:
 147:libs/WIFI/Src/es_wifi_io.c ****   HAL_StatusTypeDef  Status;
 325              		.loc 1 147 0
 326 007e 0024     		movs	r4, #0
 327              	.LVL22:
 328              	.L7:
 173:libs/WIFI/Src/es_wifi_io.c ****   
 174:libs/WIFI/Src/es_wifi_io.c ****   while (WIFI_IS_CMDDATA_READY())
 329              		.loc 1 174 0
 330 0080 0221     		movs	r1, #2
 331 0082 2C48     		ldr	r0, .L15+8
 332 0084 FFF7FEFF 		bl	HAL_GPIO_ReadPin
 333              	.LVL23:
 334 0088 0128     		cmp	r0, #1
 335 008a 1ED1     		bne	.L14
 175:libs/WIFI/Src/es_wifi_io.c ****   {
 176:libs/WIFI/Src/es_wifi_io.c ****     Status = HAL_SPI_Receive(&hspi , &Prompt[count], 1, 0xFFFF);  
 336              		.loc 1 176 0
 337 008c 4FF6FF73 		movw	r3, #65535
 338 0090 0122     		movs	r2, #1
 339 0092 0DEB0401 		add	r1, sp, r4
ARM GAS  /tmp/ccTII1DT.s 			page 10


 340 0096 2548     		ldr	r0, .L15
 341 0098 FFF7FEFF 		bl	HAL_SPI_Receive
 342              	.LVL24:
 343 009c 0546     		mov	r5, r0
 344              	.LVL25:
 177:libs/WIFI/Src/es_wifi_io.c ****     count += 2;
 345              		.loc 1 177 0
 346 009e 0234     		adds	r4, r4, #2
 347              	.LVL26:
 348 00a0 E4B2     		uxtb	r4, r4
 349              	.LVL27:
 178:libs/WIFI/Src/es_wifi_io.c ****     if(((HAL_GetTick() - tickstart ) > 0xFFFF) || (Status != HAL_OK))
 350              		.loc 1 178 0
 351 00a2 FFF7FEFF 		bl	HAL_GetTick
 352              	.LVL28:
 353 00a6 801B     		subs	r0, r0, r6
 354 00a8 B0F5803F 		cmp	r0, #65536
 355 00ac 01D2     		bcs	.L8
 356              		.loc 1 178 0 is_stmt 0 discriminator 1
 357 00ae 002D     		cmp	r5, #0
 358 00b0 E6D0     		beq	.L7
 359              	.L8:
 179:libs/WIFI/Src/es_wifi_io.c ****     {
 180:libs/WIFI/Src/es_wifi_io.c ****       WIFI_DISABLE_NSS(); 
 360              		.loc 1 180 0 is_stmt 1
 361 00b2 0122     		movs	r2, #1
 362 00b4 1146     		mov	r1, r2
 363 00b6 1F48     		ldr	r0, .L15+8
 364 00b8 FFF7FEFF 		bl	HAL_GPIO_WritePin
 365              	.LVL29:
 366 00bc 0A20     		movs	r0, #10
 367 00be FFF7FEFF 		bl	HAL_Delay
 368              	.LVL30:
 181:libs/WIFI/Src/es_wifi_io.c ****       return -1;
 369              		.loc 1 181 0
 370 00c2 4FF0FF30 		mov	r0, #-1
 371              	.LVL31:
 372              	.L6:
 182:libs/WIFI/Src/es_wifi_io.c ****     }    
 183:libs/WIFI/Src/es_wifi_io.c ****   }
 184:libs/WIFI/Src/es_wifi_io.c ****   
 185:libs/WIFI/Src/es_wifi_io.c ****   if((Prompt[0] != 0x15) ||(Prompt[1] != 0x15) ||(Prompt[2] != '\r')||
 186:libs/WIFI/Src/es_wifi_io.c ****        (Prompt[3] != '\n') ||(Prompt[4] != '>') ||(Prompt[5] != ' '))
 187:libs/WIFI/Src/es_wifi_io.c ****   {
 188:libs/WIFI/Src/es_wifi_io.c ****     WIFI_DISABLE_NSS(); 
 189:libs/WIFI/Src/es_wifi_io.c ****     return -1;
 190:libs/WIFI/Src/es_wifi_io.c ****   }    
 191:libs/WIFI/Src/es_wifi_io.c ****    
 192:libs/WIFI/Src/es_wifi_io.c ****   WIFI_DISABLE_NSS(); 
 193:libs/WIFI/Src/es_wifi_io.c ****   return 0;
 194:libs/WIFI/Src/es_wifi_io.c **** }
 373              		.loc 1 194 0
 374 00c6 02B0     		add	sp, sp, #8
 375              	.LCFI5:
 376              		.cfi_remember_state
 377              		.cfi_def_cfa_offset 16
 378              		@ sp needed
ARM GAS  /tmp/ccTII1DT.s 			page 11


 379 00c8 70BD     		pop	{r4, r5, r6, pc}
 380              	.LVL32:
 381              	.L14:
 382              	.LCFI6:
 383              		.cfi_restore_state
 185:libs/WIFI/Src/es_wifi_io.c ****        (Prompt[3] != '\n') ||(Prompt[4] != '>') ||(Prompt[5] != ' '))
 384              		.loc 1 185 0
 385 00ca 9DF80030 		ldrb	r3, [sp]	@ zero_extendqisi2
 386 00ce 152B     		cmp	r3, #21
 387 00d0 1DD1     		bne	.L10
 185:libs/WIFI/Src/es_wifi_io.c ****        (Prompt[3] != '\n') ||(Prompt[4] != '>') ||(Prompt[5] != ' '))
 388              		.loc 1 185 0 is_stmt 0 discriminator 1
 389 00d2 9DF80130 		ldrb	r3, [sp, #1]	@ zero_extendqisi2
 390 00d6 152B     		cmp	r3, #21
 391 00d8 19D1     		bne	.L10
 185:libs/WIFI/Src/es_wifi_io.c ****        (Prompt[3] != '\n') ||(Prompt[4] != '>') ||(Prompt[5] != ' '))
 392              		.loc 1 185 0 discriminator 2
 393 00da 9DF80230 		ldrb	r3, [sp, #2]	@ zero_extendqisi2
 394 00de 0D2B     		cmp	r3, #13
 395 00e0 15D1     		bne	.L10
 186:libs/WIFI/Src/es_wifi_io.c ****   {
 396              		.loc 1 186 0 is_stmt 1 discriminator 3
 397 00e2 9DF80330 		ldrb	r3, [sp, #3]	@ zero_extendqisi2
 185:libs/WIFI/Src/es_wifi_io.c ****        (Prompt[3] != '\n') ||(Prompt[4] != '>') ||(Prompt[5] != ' '))
 398              		.loc 1 185 0 discriminator 3
 399 00e6 0A2B     		cmp	r3, #10
 400 00e8 11D1     		bne	.L10
 186:libs/WIFI/Src/es_wifi_io.c ****   {
 401              		.loc 1 186 0
 402 00ea 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 403 00ee 3E2B     		cmp	r3, #62
 404 00f0 0DD1     		bne	.L10
 186:libs/WIFI/Src/es_wifi_io.c ****   {
 405              		.loc 1 186 0 is_stmt 0 discriminator 1
 406 00f2 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 407 00f6 202B     		cmp	r3, #32
 408 00f8 09D1     		bne	.L10
 192:libs/WIFI/Src/es_wifi_io.c ****   return 0;
 409              		.loc 1 192 0 is_stmt 1
 410 00fa 0122     		movs	r2, #1
 411 00fc 1146     		mov	r1, r2
 412 00fe 0D48     		ldr	r0, .L15+8
 413 0100 FFF7FEFF 		bl	HAL_GPIO_WritePin
 414              	.LVL33:
 415 0104 0A20     		movs	r0, #10
 416 0106 FFF7FEFF 		bl	HAL_Delay
 417              	.LVL34:
 193:libs/WIFI/Src/es_wifi_io.c **** }
 418              		.loc 1 193 0
 419 010a 0020     		movs	r0, #0
 420 010c DBE7     		b	.L6
 421              	.L10:
 188:libs/WIFI/Src/es_wifi_io.c ****     return -1;
 422              		.loc 1 188 0
 423 010e 0122     		movs	r2, #1
 424 0110 1146     		mov	r1, r2
 425 0112 0848     		ldr	r0, .L15+8
ARM GAS  /tmp/ccTII1DT.s 			page 12


 426 0114 FFF7FEFF 		bl	HAL_GPIO_WritePin
 427              	.LVL35:
 428 0118 0A20     		movs	r0, #10
 429 011a FFF7FEFF 		bl	HAL_Delay
 430              	.LVL36:
 189:libs/WIFI/Src/es_wifi_io.c ****   }    
 431              		.loc 1 189 0
 432 011e 4FF0FF30 		mov	r0, #-1
 433 0122 D0E7     		b	.L6
 434              	.LVL37:
 435              	.L12:
 167:libs/WIFI/Src/es_wifi_io.c ****   }
 436              		.loc 1 167 0
 437 0124 4FF0FF30 		mov	r0, #-1
 438 0128 CDE7     		b	.L6
 439              	.L16:
 440 012a 00BF     		.align	2
 441              	.L15:
 442 012c 00000000 		.word	hspi
 443 0130 003C0040 		.word	1073757184
 444 0134 00100048 		.word	1207963648
 445              		.cfi_endproc
 446              	.LFE129:
 448              		.section	.text.SPI_WIFI_DeInit,"ax",%progbits
 449              		.align	1
 450              		.global	SPI_WIFI_DeInit
 451              		.syntax unified
 452              		.thumb
 453              		.thumb_func
 454              		.fpu fpv4-sp-d16
 456              	SPI_WIFI_DeInit:
 457              	.LFB130:
 195:libs/WIFI/Src/es_wifi_io.c **** 
 196:libs/WIFI/Src/es_wifi_io.c **** /**
 197:libs/WIFI/Src/es_wifi_io.c ****   * @brief  DeInitialize the SPI
 198:libs/WIFI/Src/es_wifi_io.c ****   * @param  None
 199:libs/WIFI/Src/es_wifi_io.c ****   * @retval None
 200:libs/WIFI/Src/es_wifi_io.c ****   */
 201:libs/WIFI/Src/es_wifi_io.c **** int8_t SPI_WIFI_DeInit(void)
 202:libs/WIFI/Src/es_wifi_io.c **** {
 458              		.loc 1 202 0
 459              		.cfi_startproc
 460              		@ args = 0, pretend = 0, frame = 0
 461              		@ frame_needed = 0, uses_anonymous_args = 0
 462 0000 08B5     		push	{r3, lr}
 463              	.LCFI7:
 464              		.cfi_def_cfa_offset 8
 465              		.cfi_offset 3, -8
 466              		.cfi_offset 14, -4
 203:libs/WIFI/Src/es_wifi_io.c ****   HAL_SPI_DeInit( &hspi );
 467              		.loc 1 203 0
 468 0002 0248     		ldr	r0, .L19
 469 0004 FFF7FEFF 		bl	HAL_SPI_DeInit
 470              	.LVL38:
 204:libs/WIFI/Src/es_wifi_io.c ****   return 0;
 205:libs/WIFI/Src/es_wifi_io.c **** }
 471              		.loc 1 205 0
ARM GAS  /tmp/ccTII1DT.s 			page 13


 472 0008 0020     		movs	r0, #0
 473 000a 08BD     		pop	{r3, pc}
 474              	.L20:
 475              		.align	2
 476              	.L19:
 477 000c 00000000 		.word	hspi
 478              		.cfi_endproc
 479              	.LFE130:
 481              		.section	.text.SPI_WIFI_SendData,"ax",%progbits
 482              		.align	1
 483              		.global	SPI_WIFI_SendData
 484              		.syntax unified
 485              		.thumb
 486              		.thumb_func
 487              		.fpu fpv4-sp-d16
 489              	SPI_WIFI_SendData:
 490              	.LFB132:
 206:libs/WIFI/Src/es_wifi_io.c **** 
 207:libs/WIFI/Src/es_wifi_io.c **** /**
 208:libs/WIFI/Src/es_wifi_io.c ****   * @brief  Receive wifi Data from SPI
 209:libs/WIFI/Src/es_wifi_io.c ****   * @param  pdata : pointer to data
 210:libs/WIFI/Src/es_wifi_io.c ****   * @param  len : Data length
 211:libs/WIFI/Src/es_wifi_io.c ****   * @param  timeout : send timeout in mS
 212:libs/WIFI/Src/es_wifi_io.c ****   * @retval Length of received data (payload)
 213:libs/WIFI/Src/es_wifi_io.c ****   */
 214:libs/WIFI/Src/es_wifi_io.c **** int16_t SPI_WIFI_ReceiveData(uint8_t *pData, uint16_t len, uint32_t timeout)
 215:libs/WIFI/Src/es_wifi_io.c **** {
 216:libs/WIFI/Src/es_wifi_io.c ****   uint32_t tickstart = HAL_GetTick();
 217:libs/WIFI/Src/es_wifi_io.c ****   int16_t length = 0;
 218:libs/WIFI/Src/es_wifi_io.c ****   uint8_t tmp[2];
 219:libs/WIFI/Src/es_wifi_io.c ****   
 220:libs/WIFI/Src/es_wifi_io.c ****   HAL_SPIEx_FlushRxFifo(&hspi);
 221:libs/WIFI/Src/es_wifi_io.c ****   
 222:libs/WIFI/Src/es_wifi_io.c ****   WIFI_DISABLE_NSS(); 
 223:libs/WIFI/Src/es_wifi_io.c ****   
 224:libs/WIFI/Src/es_wifi_io.c ****   while (!WIFI_IS_CMDDATA_READY())
 225:libs/WIFI/Src/es_wifi_io.c ****   {
 226:libs/WIFI/Src/es_wifi_io.c ****     if((HAL_GetTick() - tickstart ) > timeout)
 227:libs/WIFI/Src/es_wifi_io.c ****     {
 228:libs/WIFI/Src/es_wifi_io.c ****       return -1;
 229:libs/WIFI/Src/es_wifi_io.c ****     }
 230:libs/WIFI/Src/es_wifi_io.c ****   }
 231:libs/WIFI/Src/es_wifi_io.c ****   
 232:libs/WIFI/Src/es_wifi_io.c ****   WIFI_ENABLE_NSS(); 
 233:libs/WIFI/Src/es_wifi_io.c ****   
 234:libs/WIFI/Src/es_wifi_io.c ****   while (WIFI_IS_CMDDATA_READY())
 235:libs/WIFI/Src/es_wifi_io.c ****   {
 236:libs/WIFI/Src/es_wifi_io.c ****     if((length < len) || (!len))
 237:libs/WIFI/Src/es_wifi_io.c ****     {
 238:libs/WIFI/Src/es_wifi_io.c ****       HAL_SPI_Receive(&hspi, tmp, 1, timeout) ;	   
 239:libs/WIFI/Src/es_wifi_io.c ****       /* let some time to hardware to change CMDDATA signal */
 240:libs/WIFI/Src/es_wifi_io.c ****       if(tmp[1] == 0x15)
 241:libs/WIFI/Src/es_wifi_io.c ****       {
 242:libs/WIFI/Src/es_wifi_io.c ****        SPI_WIFI_Delay(1);
 243:libs/WIFI/Src/es_wifi_io.c ****       }
 244:libs/WIFI/Src/es_wifi_io.c ****       /*This the last data */
 245:libs/WIFI/Src/es_wifi_io.c ****       if(!WIFI_IS_CMDDATA_READY())
ARM GAS  /tmp/ccTII1DT.s 			page 14


 246:libs/WIFI/Src/es_wifi_io.c ****       {
 247:libs/WIFI/Src/es_wifi_io.c ****         if(tmp[1] == 0x15)
 248:libs/WIFI/Src/es_wifi_io.c ****         {
 249:libs/WIFI/Src/es_wifi_io.c ****           pData[0] = tmp[0];
 250:libs/WIFI/Src/es_wifi_io.c ****           length++;
 251:libs/WIFI/Src/es_wifi_io.c ****           break;
 252:libs/WIFI/Src/es_wifi_io.c ****         }     
 253:libs/WIFI/Src/es_wifi_io.c ****       }
 254:libs/WIFI/Src/es_wifi_io.c ****       
 255:libs/WIFI/Src/es_wifi_io.c ****       pData[0] = tmp[0];
 256:libs/WIFI/Src/es_wifi_io.c ****       pData[1] = tmp[1];
 257:libs/WIFI/Src/es_wifi_io.c ****       length += 2;
 258:libs/WIFI/Src/es_wifi_io.c ****       pData  += 2;
 259:libs/WIFI/Src/es_wifi_io.c ****       
 260:libs/WIFI/Src/es_wifi_io.c ****       if((HAL_GetTick() - tickstart ) > timeout)
 261:libs/WIFI/Src/es_wifi_io.c ****       {
 262:libs/WIFI/Src/es_wifi_io.c ****         WIFI_DISABLE_NSS(); 
 263:libs/WIFI/Src/es_wifi_io.c ****         return -1;
 264:libs/WIFI/Src/es_wifi_io.c ****       }
 265:libs/WIFI/Src/es_wifi_io.c ****     }
 266:libs/WIFI/Src/es_wifi_io.c ****     else
 267:libs/WIFI/Src/es_wifi_io.c ****     {
 268:libs/WIFI/Src/es_wifi_io.c ****       break;
 269:libs/WIFI/Src/es_wifi_io.c ****     }
 270:libs/WIFI/Src/es_wifi_io.c ****   }
 271:libs/WIFI/Src/es_wifi_io.c ****   
 272:libs/WIFI/Src/es_wifi_io.c ****   WIFI_DISABLE_NSS(); 
 273:libs/WIFI/Src/es_wifi_io.c ****   return length;
 274:libs/WIFI/Src/es_wifi_io.c **** }
 275:libs/WIFI/Src/es_wifi_io.c **** /**
 276:libs/WIFI/Src/es_wifi_io.c ****   * @brief  Send wifi Data thru SPI
 277:libs/WIFI/Src/es_wifi_io.c ****   * @param  pdata : pointer to data
 278:libs/WIFI/Src/es_wifi_io.c ****   * @param  len : Data length
 279:libs/WIFI/Src/es_wifi_io.c ****   * @param  timeout : send timeout in mS
 280:libs/WIFI/Src/es_wifi_io.c ****   * @retval Length of sent data
 281:libs/WIFI/Src/es_wifi_io.c ****   */
 282:libs/WIFI/Src/es_wifi_io.c **** int16_t SPI_WIFI_SendData( uint8_t *pdata,  uint16_t len, uint32_t timeout)
 283:libs/WIFI/Src/es_wifi_io.c **** {
 491              		.loc 1 283 0
 492              		.cfi_startproc
 493              		@ args = 0, pretend = 0, frame = 8
 494              		@ frame_needed = 0, uses_anonymous_args = 0
 495              	.LVL39:
 496 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 497              	.LCFI8:
 498              		.cfi_def_cfa_offset 20
 499              		.cfi_offset 4, -20
 500              		.cfi_offset 5, -16
 501              		.cfi_offset 6, -12
 502              		.cfi_offset 7, -8
 503              		.cfi_offset 14, -4
 504 0002 83B0     		sub	sp, sp, #12
 505              	.LCFI9:
 506              		.cfi_def_cfa_offset 32
 507 0004 0746     		mov	r7, r0
 508 0006 0E46     		mov	r6, r1
 509 0008 1446     		mov	r4, r2
ARM GAS  /tmp/ccTII1DT.s 			page 15


 284:libs/WIFI/Src/es_wifi_io.c ****   uint32_t tickstart = HAL_GetTick();
 510              		.loc 1 284 0
 511 000a FFF7FEFF 		bl	HAL_GetTick
 512              	.LVL40:
 513 000e 0546     		mov	r5, r0
 514              	.LVL41:
 515              	.L22:
 285:libs/WIFI/Src/es_wifi_io.c ****   uint8_t Padding[2];
 286:libs/WIFI/Src/es_wifi_io.c ****   
 287:libs/WIFI/Src/es_wifi_io.c ****   while (!WIFI_IS_CMDDATA_READY())
 516              		.loc 1 287 0
 517 0010 0221     		movs	r1, #2
 518 0012 2948     		ldr	r0, .L31
 519 0014 FFF7FEFF 		bl	HAL_GPIO_ReadPin
 520              	.LVL42:
 521 0018 0128     		cmp	r0, #1
 522 001a 0FD0     		beq	.L28
 288:libs/WIFI/Src/es_wifi_io.c ****   {
 289:libs/WIFI/Src/es_wifi_io.c ****     if((HAL_GetTick() - tickstart ) > timeout)
 523              		.loc 1 289 0
 524 001c FFF7FEFF 		bl	HAL_GetTick
 525              	.LVL43:
 526 0020 401B     		subs	r0, r0, r5
 527 0022 A042     		cmp	r0, r4
 528 0024 F4D9     		bls	.L22
 290:libs/WIFI/Src/es_wifi_io.c ****     {
 291:libs/WIFI/Src/es_wifi_io.c ****       WIFI_DISABLE_NSS();       
 529              		.loc 1 291 0
 530 0026 0122     		movs	r2, #1
 531 0028 1146     		mov	r1, r2
 532 002a 2348     		ldr	r0, .L31
 533 002c FFF7FEFF 		bl	HAL_GPIO_WritePin
 534              	.LVL44:
 535 0030 0A20     		movs	r0, #10
 536 0032 FFF7FEFF 		bl	HAL_Delay
 537              	.LVL45:
 292:libs/WIFI/Src/es_wifi_io.c ****       return -1;
 538              		.loc 1 292 0
 539 0036 4FF0FF30 		mov	r0, #-1
 540 003a 0DE0     		b	.L23
 541              	.L28:
 293:libs/WIFI/Src/es_wifi_io.c ****     }
 294:libs/WIFI/Src/es_wifi_io.c ****   }
 295:libs/WIFI/Src/es_wifi_io.c ****   
 296:libs/WIFI/Src/es_wifi_io.c ****   WIFI_ENABLE_NSS(); 
 542              		.loc 1 296 0
 543 003c 0022     		movs	r2, #0
 544 003e 0121     		movs	r1, #1
 545 0040 1D48     		ldr	r0, .L31
 546 0042 FFF7FEFF 		bl	HAL_GPIO_WritePin
 547              	.LVL46:
 548 0046 0A20     		movs	r0, #10
 549 0048 FFF7FEFF 		bl	HAL_Delay
 550              	.LVL47:
 297:libs/WIFI/Src/es_wifi_io.c ****   if (len > 1)
 551              		.loc 1 297 0
 552 004c 012E     		cmp	r6, #1
ARM GAS  /tmp/ccTII1DT.s 			page 16


 553 004e 05D8     		bhi	.L29
 554              	.L25:
 298:libs/WIFI/Src/es_wifi_io.c ****   {
 299:libs/WIFI/Src/es_wifi_io.c ****    if( HAL_SPI_Transmit(&hspi, (uint8_t *)pdata , len/2, timeout) != HAL_OK)
 300:libs/WIFI/Src/es_wifi_io.c ****    {
 301:libs/WIFI/Src/es_wifi_io.c ****      WIFI_DISABLE_NSS(); 
 302:libs/WIFI/Src/es_wifi_io.c ****      return -1;
 303:libs/WIFI/Src/es_wifi_io.c ****    }
 304:libs/WIFI/Src/es_wifi_io.c ****   }
 305:libs/WIFI/Src/es_wifi_io.c ****   
 306:libs/WIFI/Src/es_wifi_io.c ****   if ( len & 1)
 555              		.loc 1 306 0
 556 0050 16F0010F 		tst	r6, #1
 557 0054 15D1     		bne	.L30
 558              	.LVL48:
 559              	.L26:
 307:libs/WIFI/Src/es_wifi_io.c ****   {
 308:libs/WIFI/Src/es_wifi_io.c ****     Padding[0] = pdata[len-1];
 309:libs/WIFI/Src/es_wifi_io.c ****     Padding[1] = '\n';
 310:libs/WIFI/Src/es_wifi_io.c ****     
 311:libs/WIFI/Src/es_wifi_io.c ****     if( HAL_SPI_Transmit(&hspi, Padding, 1, timeout) != HAL_OK)
 312:libs/WIFI/Src/es_wifi_io.c ****     {
 313:libs/WIFI/Src/es_wifi_io.c ****       WIFI_DISABLE_NSS();       
 314:libs/WIFI/Src/es_wifi_io.c ****       return -1;
 315:libs/WIFI/Src/es_wifi_io.c ****     }
 316:libs/WIFI/Src/es_wifi_io.c ****   }
 317:libs/WIFI/Src/es_wifi_io.c ****   
 318:libs/WIFI/Src/es_wifi_io.c ****   return len;
 560              		.loc 1 318 0
 561 0056 30B2     		sxth	r0, r6
 562              	.L23:
 319:libs/WIFI/Src/es_wifi_io.c **** }
 563              		.loc 1 319 0
 564 0058 03B0     		add	sp, sp, #12
 565              	.LCFI10:
 566              		.cfi_remember_state
 567              		.cfi_def_cfa_offset 20
 568              		@ sp needed
 569 005a F0BD     		pop	{r4, r5, r6, r7, pc}
 570              	.LVL49:
 571              	.L29:
 572              	.LCFI11:
 573              		.cfi_restore_state
 299:libs/WIFI/Src/es_wifi_io.c ****    {
 574              		.loc 1 299 0
 575 005c 2346     		mov	r3, r4
 576 005e 7208     		lsrs	r2, r6, #1
 577 0060 3946     		mov	r1, r7
 578 0062 1648     		ldr	r0, .L31+4
 579 0064 FFF7FEFF 		bl	HAL_SPI_Transmit
 580              	.LVL50:
 581 0068 0028     		cmp	r0, #0
 582 006a F1D0     		beq	.L25
 301:libs/WIFI/Src/es_wifi_io.c ****      return -1;
 583              		.loc 1 301 0
 584 006c 0122     		movs	r2, #1
 585 006e 1146     		mov	r1, r2
ARM GAS  /tmp/ccTII1DT.s 			page 17


 586 0070 1148     		ldr	r0, .L31
 587 0072 FFF7FEFF 		bl	HAL_GPIO_WritePin
 588              	.LVL51:
 589 0076 0A20     		movs	r0, #10
 590 0078 FFF7FEFF 		bl	HAL_Delay
 591              	.LVL52:
 302:libs/WIFI/Src/es_wifi_io.c ****    }
 592              		.loc 1 302 0
 593 007c 4FF0FF30 		mov	r0, #-1
 594 0080 EAE7     		b	.L23
 595              	.L30:
 308:libs/WIFI/Src/es_wifi_io.c ****     Padding[1] = '\n';
 596              		.loc 1 308 0
 597 0082 3744     		add	r7, r7, r6
 598              	.LVL53:
 599 0084 17F8013C 		ldrb	r3, [r7, #-1]	@ zero_extendqisi2
 600 0088 8DF80430 		strb	r3, [sp, #4]
 309:libs/WIFI/Src/es_wifi_io.c ****     
 601              		.loc 1 309 0
 602 008c 0A23     		movs	r3, #10
 603 008e 8DF80530 		strb	r3, [sp, #5]
 311:libs/WIFI/Src/es_wifi_io.c ****     {
 604              		.loc 1 311 0
 605 0092 2346     		mov	r3, r4
 606 0094 0122     		movs	r2, #1
 607 0096 01A9     		add	r1, sp, #4
 608 0098 0848     		ldr	r0, .L31+4
 609 009a FFF7FEFF 		bl	HAL_SPI_Transmit
 610              	.LVL54:
 611 009e 0028     		cmp	r0, #0
 612 00a0 D9D0     		beq	.L26
 313:libs/WIFI/Src/es_wifi_io.c ****       return -1;
 613              		.loc 1 313 0
 614 00a2 0122     		movs	r2, #1
 615 00a4 1146     		mov	r1, r2
 616 00a6 0448     		ldr	r0, .L31
 617 00a8 FFF7FEFF 		bl	HAL_GPIO_WritePin
 618              	.LVL55:
 619 00ac 0A20     		movs	r0, #10
 620 00ae FFF7FEFF 		bl	HAL_Delay
 621              	.LVL56:
 314:libs/WIFI/Src/es_wifi_io.c ****     }
 622              		.loc 1 314 0
 623 00b2 4FF0FF30 		mov	r0, #-1
 624 00b6 CFE7     		b	.L23
 625              	.L32:
 626              		.align	2
 627              	.L31:
 628 00b8 00100048 		.word	1207963648
 629 00bc 00000000 		.word	hspi
 630              		.cfi_endproc
 631              	.LFE132:
 633              		.section	.text.SPI_WIFI_Delay,"ax",%progbits
 634              		.align	1
 635              		.global	SPI_WIFI_Delay
 636              		.syntax unified
 637              		.thumb
ARM GAS  /tmp/ccTII1DT.s 			page 18


 638              		.thumb_func
 639              		.fpu fpv4-sp-d16
 641              	SPI_WIFI_Delay:
 642              	.LFB133:
 320:libs/WIFI/Src/es_wifi_io.c **** 
 321:libs/WIFI/Src/es_wifi_io.c **** /**
 322:libs/WIFI/Src/es_wifi_io.c ****   * @brief  Delay
 323:libs/WIFI/Src/es_wifi_io.c ****   * @param  Delay in ms
 324:libs/WIFI/Src/es_wifi_io.c ****   * @retval None
 325:libs/WIFI/Src/es_wifi_io.c ****   */
 326:libs/WIFI/Src/es_wifi_io.c **** void SPI_WIFI_Delay(uint32_t Delay)
 327:libs/WIFI/Src/es_wifi_io.c **** {
 643              		.loc 1 327 0
 644              		.cfi_startproc
 645              		@ args = 0, pretend = 0, frame = 0
 646              		@ frame_needed = 0, uses_anonymous_args = 0
 647              	.LVL57:
 648 0000 08B5     		push	{r3, lr}
 649              	.LCFI12:
 650              		.cfi_def_cfa_offset 8
 651              		.cfi_offset 3, -8
 652              		.cfi_offset 14, -4
 328:libs/WIFI/Src/es_wifi_io.c ****   HAL_Delay(Delay);
 653              		.loc 1 328 0
 654 0002 FFF7FEFF 		bl	HAL_Delay
 655              	.LVL58:
 329:libs/WIFI/Src/es_wifi_io.c **** }
 656              		.loc 1 329 0
 657 0006 08BD     		pop	{r3, pc}
 658              		.cfi_endproc
 659              	.LFE133:
 661              		.section	.text.SPI_WIFI_ReceiveData,"ax",%progbits
 662              		.align	1
 663              		.global	SPI_WIFI_ReceiveData
 664              		.syntax unified
 665              		.thumb
 666              		.thumb_func
 667              		.fpu fpv4-sp-d16
 669              	SPI_WIFI_ReceiveData:
 670              	.LFB131:
 215:libs/WIFI/Src/es_wifi_io.c ****   uint32_t tickstart = HAL_GetTick();
 671              		.loc 1 215 0
 672              		.cfi_startproc
 673              		@ args = 0, pretend = 0, frame = 8
 674              		@ frame_needed = 0, uses_anonymous_args = 0
 675              	.LVL59:
 676 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 677              	.LCFI13:
 678              		.cfi_def_cfa_offset 24
 679              		.cfi_offset 4, -24
 680              		.cfi_offset 5, -20
 681              		.cfi_offset 6, -16
 682              		.cfi_offset 7, -12
 683              		.cfi_offset 8, -8
 684              		.cfi_offset 14, -4
 685 0004 82B0     		sub	sp, sp, #8
 686              	.LCFI14:
ARM GAS  /tmp/ccTII1DT.s 			page 19


 687              		.cfi_def_cfa_offset 32
 688 0006 0546     		mov	r5, r0
 689 0008 8846     		mov	r8, r1
 690 000a 1646     		mov	r6, r2
 216:libs/WIFI/Src/es_wifi_io.c ****   int16_t length = 0;
 691              		.loc 1 216 0
 692 000c FFF7FEFF 		bl	HAL_GetTick
 693              	.LVL60:
 694 0010 0746     		mov	r7, r0
 695              	.LVL61:
 220:libs/WIFI/Src/es_wifi_io.c ****   
 696              		.loc 1 220 0
 697 0012 3848     		ldr	r0, .L51
 698              	.LVL62:
 699 0014 FFF7FEFF 		bl	HAL_SPIEx_FlushRxFifo
 700              	.LVL63:
 222:libs/WIFI/Src/es_wifi_io.c ****   
 701              		.loc 1 222 0
 702 0018 0122     		movs	r2, #1
 703 001a 1146     		mov	r1, r2
 704 001c 3648     		ldr	r0, .L51+4
 705 001e FFF7FEFF 		bl	HAL_GPIO_WritePin
 706              	.LVL64:
 707 0022 0A20     		movs	r0, #10
 708 0024 FFF7FEFF 		bl	HAL_Delay
 709              	.LVL65:
 710              	.L36:
 224:libs/WIFI/Src/es_wifi_io.c ****   {
 711              		.loc 1 224 0
 712 0028 0221     		movs	r1, #2
 713 002a 3348     		ldr	r0, .L51+4
 714 002c FFF7FEFF 		bl	HAL_GPIO_ReadPin
 715              	.LVL66:
 716 0030 0128     		cmp	r0, #1
 717 0032 0AD0     		beq	.L47
 226:libs/WIFI/Src/es_wifi_io.c ****     {
 718              		.loc 1 226 0
 719 0034 FFF7FEFF 		bl	HAL_GetTick
 720              	.LVL67:
 721 0038 C01B     		subs	r0, r0, r7
 722 003a B042     		cmp	r0, r6
 723 003c F4D9     		bls	.L36
 228:libs/WIFI/Src/es_wifi_io.c ****     }
 724              		.loc 1 228 0
 725 003e 4FF0FF34 		mov	r4, #-1
 726              	.LVL68:
 727              	.L37:
 274:libs/WIFI/Src/es_wifi_io.c **** /**
 728              		.loc 1 274 0
 729 0042 2046     		mov	r0, r4
 730 0044 02B0     		add	sp, sp, #8
 731              	.LCFI15:
 732              		.cfi_remember_state
 733              		.cfi_def_cfa_offset 24
 734              		@ sp needed
 735 0046 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 736              	.LVL69:
ARM GAS  /tmp/ccTII1DT.s 			page 20


 737              	.L47:
 738              	.LCFI16:
 739              		.cfi_restore_state
 232:libs/WIFI/Src/es_wifi_io.c ****   
 740              		.loc 1 232 0
 741 004a 0022     		movs	r2, #0
 742 004c 0121     		movs	r1, #1
 743 004e 2A48     		ldr	r0, .L51+4
 744 0050 FFF7FEFF 		bl	HAL_GPIO_WritePin
 745              	.LVL70:
 746 0054 0A20     		movs	r0, #10
 747 0056 FFF7FEFF 		bl	HAL_Delay
 748              	.LVL71:
 217:libs/WIFI/Src/es_wifi_io.c ****   uint8_t tmp[2];
 749              		.loc 1 217 0
 750 005a 0024     		movs	r4, #0
 234:libs/WIFI/Src/es_wifi_io.c ****   {
 751              		.loc 1 234 0
 752 005c 21E0     		b	.L39
 753              	.LVL72:
 754              	.L40:
 238:libs/WIFI/Src/es_wifi_io.c ****       /* let some time to hardware to change CMDDATA signal */
 755              		.loc 1 238 0
 756 005e 3346     		mov	r3, r6
 757 0060 0122     		movs	r2, #1
 758 0062 01A9     		add	r1, sp, #4
 759 0064 2348     		ldr	r0, .L51
 760 0066 FFF7FEFF 		bl	HAL_SPI_Receive
 761              	.LVL73:
 240:libs/WIFI/Src/es_wifi_io.c ****       {
 762              		.loc 1 240 0
 763 006a 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 764 006e 152B     		cmp	r3, #21
 765 0070 23D0     		beq	.L48
 766              	.L42:
 245:libs/WIFI/Src/es_wifi_io.c ****       {
 767              		.loc 1 245 0
 768 0072 0221     		movs	r1, #2
 769 0074 2048     		ldr	r0, .L51+4
 770 0076 FFF7FEFF 		bl	HAL_GPIO_ReadPin
 771              	.LVL74:
 772 007a 0128     		cmp	r0, #1
 773 007c 03D0     		beq	.L43
 247:libs/WIFI/Src/es_wifi_io.c ****         {
 774              		.loc 1 247 0
 775 007e 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 776 0082 152B     		cmp	r3, #21
 777 0084 1DD0     		beq	.L49
 778              	.L43:
 255:libs/WIFI/Src/es_wifi_io.c ****       pData[1] = tmp[1];
 779              		.loc 1 255 0
 780 0086 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 781 008a 2B70     		strb	r3, [r5]
 256:libs/WIFI/Src/es_wifi_io.c ****       length += 2;
 782              		.loc 1 256 0
 783 008c 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 784 0090 6B70     		strb	r3, [r5, #1]
ARM GAS  /tmp/ccTII1DT.s 			page 21


 257:libs/WIFI/Src/es_wifi_io.c ****       pData  += 2;
 785              		.loc 1 257 0
 786 0092 0234     		adds	r4, r4, #2
 787              	.LVL75:
 788 0094 24B2     		sxth	r4, r4
 789              	.LVL76:
 258:libs/WIFI/Src/es_wifi_io.c ****       
 790              		.loc 1 258 0
 791 0096 0235     		adds	r5, r5, #2
 792              	.LVL77:
 260:libs/WIFI/Src/es_wifi_io.c ****       {
 793              		.loc 1 260 0
 794 0098 FFF7FEFF 		bl	HAL_GetTick
 795              	.LVL78:
 796 009c C01B     		subs	r0, r0, r7
 797 009e B042     		cmp	r0, r6
 798 00a0 1DD8     		bhi	.L50
 799              	.LVL79:
 800              	.L39:
 234:libs/WIFI/Src/es_wifi_io.c ****   {
 801              		.loc 1 234 0
 802 00a2 0221     		movs	r1, #2
 803 00a4 1448     		ldr	r0, .L51+4
 804 00a6 FFF7FEFF 		bl	HAL_GPIO_ReadPin
 805              	.LVL80:
 806 00aa 0128     		cmp	r0, #1
 807 00ac 0ED1     		bne	.L41
 236:libs/WIFI/Src/es_wifi_io.c ****     {
 808              		.loc 1 236 0
 809 00ae 4445     		cmp	r4, r8
 810 00b0 D5DB     		blt	.L40
 236:libs/WIFI/Src/es_wifi_io.c ****     {
 811              		.loc 1 236 0 is_stmt 0 discriminator 1
 812 00b2 B8F1000F 		cmp	r8, #0
 813 00b6 D2D0     		beq	.L40
 814 00b8 08E0     		b	.L41
 815              	.L48:
 242:libs/WIFI/Src/es_wifi_io.c ****       }
 816              		.loc 1 242 0 is_stmt 1
 817 00ba 0120     		movs	r0, #1
 818 00bc FFF7FEFF 		bl	SPI_WIFI_Delay
 819              	.LVL81:
 820 00c0 D7E7     		b	.L42
 821              	.L49:
 249:libs/WIFI/Src/es_wifi_io.c ****           length++;
 822              		.loc 1 249 0
 823 00c2 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 824 00c6 2B70     		strb	r3, [r5]
 250:libs/WIFI/Src/es_wifi_io.c ****           break;
 825              		.loc 1 250 0
 826 00c8 0134     		adds	r4, r4, #1
 827              	.LVL82:
 828 00ca 24B2     		sxth	r4, r4
 829              	.LVL83:
 830              	.L41:
 272:libs/WIFI/Src/es_wifi_io.c ****   return length;
 831              		.loc 1 272 0
ARM GAS  /tmp/ccTII1DT.s 			page 22


 832 00cc 0122     		movs	r2, #1
 833 00ce 1146     		mov	r1, r2
 834 00d0 0948     		ldr	r0, .L51+4
 835 00d2 FFF7FEFF 		bl	HAL_GPIO_WritePin
 836              	.LVL84:
 837 00d6 0A20     		movs	r0, #10
 838 00d8 FFF7FEFF 		bl	HAL_Delay
 839              	.LVL85:
 273:libs/WIFI/Src/es_wifi_io.c **** }
 840              		.loc 1 273 0
 841 00dc B1E7     		b	.L37
 842              	.L50:
 262:libs/WIFI/Src/es_wifi_io.c ****         return -1;
 843              		.loc 1 262 0
 844 00de 0122     		movs	r2, #1
 845 00e0 1146     		mov	r1, r2
 846 00e2 0548     		ldr	r0, .L51+4
 847 00e4 FFF7FEFF 		bl	HAL_GPIO_WritePin
 848              	.LVL86:
 849 00e8 0A20     		movs	r0, #10
 850 00ea FFF7FEFF 		bl	HAL_Delay
 851              	.LVL87:
 263:libs/WIFI/Src/es_wifi_io.c ****       }
 852              		.loc 1 263 0
 853 00ee 4FF0FF34 		mov	r4, #-1
 854              	.LVL88:
 855 00f2 A6E7     		b	.L37
 856              	.L52:
 857              		.align	2
 858              	.L51:
 859 00f4 00000000 		.word	hspi
 860 00f8 00100048 		.word	1207963648
 861              		.cfi_endproc
 862              	.LFE131:
 864              		.comm	hspi,100,4
 865              		.text
 866              	.Letext0:
 867              		.file 2 "/opt/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/machine/_default_types.h"
 868              		.file 3 "/opt/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/sys/_stdint.h"
 869              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 870              		.file 5 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/system_stm32l4xx.h"
 871              		.file 6 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l475xx.h"
 872              		.file 7 "/opt/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/sys/lock.h"
 873              		.file 8 "/opt/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/sys/_types.h"
 874              		.file 9 "/opt/gcc-arm-none-eabi-7-2018-q2-update/lib/gcc/arm-none-eabi/7.3.1/include/stddef.h"
 875              		.file 10 "/opt/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/sys/reent.h"
 876              		.file 11 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_def.h"
 877              		.file 12 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_gpio.h"
 878              		.file 13 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_dma.h"
 879              		.file 14 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_spi.h"
 880              		.file 15 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal.h"
 881              		.file 16 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_spi_ex.h"
ARM GAS  /tmp/ccTII1DT.s 			page 23


DEFINED SYMBOLS
                            *ABS*:0000000000000000 es_wifi_io.c
     /tmp/ccTII1DT.s:18     .text.SPI_WIFI_MspInit:0000000000000000 $t
     /tmp/ccTII1DT.s:25     .text.SPI_WIFI_MspInit:0000000000000000 SPI_WIFI_MspInit
     /tmp/ccTII1DT.s:220    .text.SPI_WIFI_MspInit:0000000000000114 $d
     /tmp/ccTII1DT.s:228    .text.SPI_WIFI_Init:0000000000000000 $t
     /tmp/ccTII1DT.s:235    .text.SPI_WIFI_Init:0000000000000000 SPI_WIFI_Init
     /tmp/ccTII1DT.s:442    .text.SPI_WIFI_Init:000000000000012c $d
                            *COM*:0000000000000064 hspi
     /tmp/ccTII1DT.s:449    .text.SPI_WIFI_DeInit:0000000000000000 $t
     /tmp/ccTII1DT.s:456    .text.SPI_WIFI_DeInit:0000000000000000 SPI_WIFI_DeInit
     /tmp/ccTII1DT.s:477    .text.SPI_WIFI_DeInit:000000000000000c $d
     /tmp/ccTII1DT.s:482    .text.SPI_WIFI_SendData:0000000000000000 $t
     /tmp/ccTII1DT.s:489    .text.SPI_WIFI_SendData:0000000000000000 SPI_WIFI_SendData
     /tmp/ccTII1DT.s:628    .text.SPI_WIFI_SendData:00000000000000b8 $d
     /tmp/ccTII1DT.s:634    .text.SPI_WIFI_Delay:0000000000000000 $t
     /tmp/ccTII1DT.s:641    .text.SPI_WIFI_Delay:0000000000000000 SPI_WIFI_Delay
     /tmp/ccTII1DT.s:662    .text.SPI_WIFI_ReceiveData:0000000000000000 $t
     /tmp/ccTII1DT.s:669    .text.SPI_WIFI_ReceiveData:0000000000000000 SPI_WIFI_ReceiveData
     /tmp/ccTII1DT.s:859    .text.SPI_WIFI_ReceiveData:00000000000000f4 $d

UNDEFINED SYMBOLS
HAL_GPIO_WritePin
HAL_GPIO_Init
HAL_GetTick
HAL_SPI_Init
HAL_Delay
HAL_GPIO_ReadPin
HAL_SPI_Receive
HAL_SPI_DeInit
HAL_SPI_Transmit
HAL_SPIEx_FlushRxFifo
